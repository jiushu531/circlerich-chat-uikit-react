"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),n=require("react");exports.Popup=function(o){var r=o.show,u=o.close,i=o.children,s=o.className,c=o.root,l=o.handleVisible,v=n.useRef();n.useLayoutEffect((function(){var e,t;return r?(window.addEventListener("mouseup",u,!1),null===(e=null==v?void 0:v.current)||void 0===e||e.addEventListener("mouseup",d)):(window.removeEventListener("mouseup",u,!1),null===(t=null==v?void 0:v.current)||void 0===t||t.removeEventListener("mouseup",d)),function(){var e;window.removeEventListener("mouseup",u,!1),null===(e=null==v?void 0:v.current)||void 0===e||e.removeEventListener("mouseup",d)}}),[r]),n.useLayoutEffect((function(){var e=new IntersectionObserver((function(e){var t=e[0],n=t.boundingClientRect,o=t.rootBounds;l&&l({left:n.x<o.width,top:n.bottom+n.height<o.bottom})}),{root:c,threshold:[1]});return v&&r&&e.observe(null==v?void 0:v.current),function(){e.disconnect()}}),[v,r]);var d=function(e){e.stopPropagation()};return r&&t.jsx("div",e.__assign({role:"button",tabIndex:0,className:"popup ".concat(s),ref:v},{children:i}))};

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),r=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(r),o=function(e){e instanceof WheelEvent&&1===e.deltaY&&e.preventDefault()};exports.InfiniteScroll=function(t){var i=t.children,l=t.element,a=void 0===l?"div":l,s=t.hasMore,u=void 0!==s&&s,d=t.hasMoreNewer,c=void 0!==d&&d,v=t.initialLoad,f=void 0===v||v,h=t.isLoading,p=void 0!==h&&h,E=t.listenToScroll,L=t.loader,m=t.loadMore,M=t.loadMoreNewer,N=t.threshold,_=void 0===N?150:N,b=t.useCapture,g=void 0!==b&&b,w=e.__rest(t,["children","element","hasMore","hasMoreNewer","initialLoad","isLoading","listenToScroll","loader","loadMore","loadMoreNewer","threshold","useCapture"]),y=r.useRef(),T=r.useCallback((function(){var e=y.current;if(e&&null!==e.offsetParent){var r=e.parentElement,t=e.scrollHeight-r.scrollTop-r.clientHeight,n=r.scrollTop;E&&E(t,n,_),n<Number(_)&&"function"==typeof m&&u&&m(),t<Number(_)&&"function"==typeof M&&c&&M()}}),[u,c,_,E,m,M]);r.useEffect((function(){var e,r=null===(e=y.current)||void 0===e?void 0:e.parentNode;return p||!r?function(){}:(r.addEventListener("scroll",T,g),r.addEventListener("resize",T,g),function(){r.removeEventListener("scroll",T,g),r.removeEventListener("resize",T,g)})}),[f,p,T,g]),r.useEffect((function(){var e,r=null===(e=y.current)||void 0===e?void 0:e.parentNode;return r&&r.addEventListener("wheel",o,{passive:!1}),function(){r&&r.removeEventListener("wheel",o,g)}}),[g]);var C=e.__assign(e.__assign({},w),{ref:function(e){y.current=e}}),S=[L,i];return n.default.createElement(a,C,S)};

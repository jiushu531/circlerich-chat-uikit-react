"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),s=require("react"),u=require("tim-js-sdk/tim-js-friendship"),n=require("../../context/TUIMessageInputContext.js"),r=require("./hooks/useCreateMessageInputContext.js"),a=require("./hooks/useMessageInputState.js");require("../../constants.js");var i=require("../../context/TUIKitContext.js"),o=require("../../context/TUIChatStateContext.js"),I=require("../../context/ComponentContext.js");require("./hooks/useHandleQuoteMessage.js");var p=require("../EmptyStateIndicator/EmptyStateIndicator.js"),l=require("./InputQuoteDefalut.js"),g=require("./TUIMessageInputDefault.js"),c=require("./InputPluginsDefalut.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var x=d(s),j=d(u);function f(s){var u=s.children,I=s.disabled,p=s.focus,l=void 0===p||p,g=s.plugins,c=s.showNumber,d=void 0===c?1:c,x=s.MoreIcon,f=a.useMessageInputState(s),M=i.useTUIKitContext("TUIMessageInput").conversation,m=o.useTUIChatStateContext("TUIMessageInput").textareaRef,C=M.type===j.default.TYPES.CONV_SYSTEM,_=r.useCreateMessageInputContext(e.__assign(e.__assign(e.__assign({},f),s),{textareaRef:m,disabled:I||C,focus:l,plugins:g,showNumber:d,MoreIcon:x}));return t.jsx(n.TUIMessageInputContextProvider,e.__assign({value:_},{children:u}))}function M(s){var u=s.TUIMessageInput,n=s.InputPlugins,r=s.InputQuote,a=I.useComponentContext(),i=a.TUIMessageInput,o=a.InputPlugins,d=a.InputQuote,x=u||i||g.TUIMessageInputDefault,j=n||o||c.InputPluginsDefalut||p.EmptyStateIndicator,M=r||d||l.InputQuoteDefalut;return t.jsx("div",e.__assign({className:"tui-message-input"},{children:t.jsxs(f,e.__assign({},s,{children:[t.jsx(M,{}),t.jsxs("div",e.__assign({className:"tui-message-input-main"},{children:[t.jsx(j,{}),t.jsx(x,{})]}))]}))}))}var m=x.default.memo(M);exports.TUIMessageInput=m;

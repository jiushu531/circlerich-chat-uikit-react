"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),a=require("react/jsx-runtime"),t=require("react"),s=require("tim-js-sdk/tim-js-friendship"),i=require("../Avatar/Avatar.js"),r=require("../untils.js"),n=require("../Icon/Icon.js"),l=require("../Icon/type.js"),u=require("../../context/TUIKitContext.js");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=c(t),o=c(s);function v(s){var c=s.title,d=s.avatar;s.isOnline;var v=s.conversation,h=t.useState(""),f=h[0],_=h[1],j=t.useState(""),m=j[0],S=j[1];t.useEffect((function(){switch(_(c),S(d),null==v?void 0:v.type){case o.default.TYPES.CONV_C2C:p(v.userProfile);break;case o.default.TYPES.CONV_GROUP:x(v.groupProfile);break;case o.default.TYPES.CONV_SYSTEM:_("System Notice");break;default:_("")}}),[v]);var p=function(e){f||_((null==e?void 0:e.nick)||(null==e?void 0:e.userID)),m||S(r.handleDisplayAvatar(e.avatar))},x=function(e){f||_((null==e?void 0:e.name)||(null==e?void 0:e.groupID)),m||S(r.handleDisplayAvatar(e.avatar,o.default.TYPES.CONV_GROUP))},g=u.useTUIKitContext().setTUIManageShow;return a.jsxs("header",e.__assign({className:"tui-chat-header"},{children:[a.jsxs("div",e.__assign({className:"tui-chat-header-left ".concat((null==v?void 0:v.type)===o.default.TYPES.CONV_SYSTEM?"system":"")},{children:[(null==v?void 0:v.type)!==o.default.TYPES.CONV_SYSTEM&&a.jsx(i.Avatar,{size:32,image:m}),a.jsx("div",e.__assign({className:"header-content"},{children:a.jsx("h3",e.__assign({className:"title"},{children:f}))}))]})),a.jsx("div",e.__assign({className:"tui-chat-header-right"},{children:a.jsx("div",e.__assign({className:"header-handle"},{children:a.jsx(n.Icon,{className:"header-handle-more",onClick:function(){g(!0)},type:l.IconTypes.ELLIPSE,width:18,height:5})}))}))]}),null==v?void 0:v.conversationID)}var h=d.default.memo(v);exports.TUIChatHeaderDefault=function(t){var s=e.__assign({},t);return a.jsx(h,e.__assign({},s))};

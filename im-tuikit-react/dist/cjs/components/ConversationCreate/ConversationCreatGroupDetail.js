"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),r=require("react"),a=require("../Input/Input.js"),s=require("../Icon/Icon.js"),i=require("../Icon/type.js"),n=require("../Avatar/Avatar.js"),o=require("../Avatar/default.js"),u=require("./ConversationCreate.js"),c=require("./ConversationGroupTypeInfo.js"),p=require("../../context/TUIKitContext.js");exports.ConversationCreatGroupDetail=function(l){var d=this,g=l.profileList,v=l.pageState,_=l.setPageState,x=l.createConversation,m=l.setConversationCreated,f=p.useTUIKitContext(),h=f.setActiveConversation,j=f.myProfile,C=e.__spreadArray([],g,!0);C.unshift(j);var y=C.map((function(e){return e.nick||e.userID})).toString(),I=r.useState(y.length>=15?"".concat(y.slice(0,12),"..."):y),b=I[0],N=I[1],G=r.useState(""),A=G[0],P=G[1],T=r.useState("Work"),q=T[0],k=T[1],S=function(e,t){var r=e.target.value;switch(t){case"name":N(r);break;case"id":P(r);break;case"type":k(r)}};return v!==u.PageStateTypes.GROUP_TYPE?t.jsxs(t.Fragment,{children:[t.jsxs("div",e.__assign({className:"tui-conversation-create-group-detail"},{children:[t.jsx("div",e.__assign({className:"create-group-box create-group-name"},{children:t.jsx(a.Input,{maxLength:15,value:b,onChange:function(e){S(e,"name")},border:"bottom",customClassName:"input-group-name",clearable:!0,prefix:t.jsx("div",e.__assign({className:"input-group-title"},{children:"Group Name"}))})})),t.jsx("div",e.__assign({className:"create-group-box create-group-id"},{children:t.jsx(a.Input,{border:"bottom",customClassName:"input-group-text",clearable:!0,value:A,onChange:function(e){S(e,"id")},prefix:t.jsx("div",e.__assign({className:"input-group-title"},{children:"Group ID"}))})})),t.jsx("div",e.__assign({className:"create-group-box create-group-type"},{children:t.jsx(a.Input,{disabled:!0,border:"bottom",customClassName:"input-group-text",prefix:t.jsx("div",e.__assign({className:"input-group-title"},{children:"Group of type"})),suffix:t.jsx(s.Icon,{onClick:function(){_(u.PageStateTypes.GROUP_TYPE)},type:i.IconTypes.ARROW_RIGHT,width:7,height:12}),value:q,onChange:function(e){S(e,"type")}})})),t.jsx("div",e.__assign({className:"create-group-illustrate"},{children:c.typeInfoList.find((function(e){return e.type===q})).des})),t.jsxs("div",e.__assign({className:"create-group-portrait"},{children:[t.jsx("div",e.__assign({className:"create-group-portrait-title"},{children:"Participants"})),t.jsx("div",e.__assign({className:"create-group-portrait-info-container"},{children:g.map((function(r){var a=r.avatar,s=r.userID,i=r.nick;return t.jsxs("div",e.__assign({className:"create-group-portrait-info"},{children:[t.jsx(n.Avatar,{shape:"square",size:50,image:a}),t.jsx("div",e.__assign({className:"create-group-portrait-info-nick"},{children:i}))]}),s)}))}))]}))]})),t.jsx("div",e.__assign({className:"tui-conversation-create-next-container"},{children:t.jsx("div",e.__assign({role:"presentation",className:"tui-conversation-create-next",onClick:function(){return e.__awaiter(d,void 0,void 0,(function(){var t,r;return e.__generator(this,(function(e){switch(e.label){case 0:return t=function(e){switch(e){case"Work":return o.defaultGroupAvatarWork;case"Public":return o.defaultGroupAvatarPublic;case"Meeting":return o.defaultGroupAvatarMeeting;case"AVChatRoom":return o.defaultGroupAvatarAVChatRoom;default:return""}}(q),[4,x({name:b,type:c.GroupType[q],groupID:A,avatar:t})];case 1:return r=e.sent(),h(r),m(!1),[2]}}))}))}},{children:"Create"}))}))]}):t.jsx(c.ConversationGroupTypeInfo,{groupType:q,setGroupType:k,setPageState:_})};

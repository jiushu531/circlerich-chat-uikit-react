"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("tslib"),s=require("react/jsx-runtime"),r=require("react"),a=require("../Icon/Icon.js"),o=require("../Icon/type.js"),i=require("./ConversationCreateUserSelectList.js"),n=require("./ConversationCreatGroupDetail.js"),c=require("../../context/TUIKitContext.js"),p=require("../../hooks/useConversation.js");exports.PageStateTypes=void 0,(e=exports.PageStateTypes||(exports.PageStateTypes={})).USER_SELECT="Next",e.CREATE_DETAIL="Create",e.GROUP_TYPE="GroupType",exports.ConversationCreate=function(e){var C=e.className,u=void 0===C?"":C,S=e.setConversationCreated,T=e.conversationList,E=void 0===T?[]:T,v=r.useState(!1),x=v[0],l=v[1],P=r.useState(exports.PageStateTypes.USER_SELECT),d=P[0],g=P[1],_=r.useState([]),y=_[0],L=_[1],j=c.useTUIKitContext().tim,I=p.useConversation(j).createConversation,U=function(){if(x)switch(d){case exports.PageStateTypes.USER_SELECT:l(!1);break;case exports.PageStateTypes.CREATE_DETAIL:g(exports.PageStateTypes.USER_SELECT),L([]);break;case exports.PageStateTypes.GROUP_TYPE:g(exports.PageStateTypes.CREATE_DETAIL)}else S(!1)};return r.useMemo((function(){return s.jsxs(s.Fragment,{children:[s.jsxs("div",t.__assign({className:"tui-conversation-create-header"},{children:[s.jsx(a.Icon,{onClick:U,type:o.IconTypes.BACK,width:9,height:16}),s.jsx("div",t.__assign({className:"title"},{children:x?"Add Participants":"New Chat"}))]})),d===exports.PageStateTypes.USER_SELECT?s.jsx(i.ConversationCreateUserSelectList,{isCreateGroup:x,setIsCreateGroup:l,className:u,selectList:y,setSelectList:L,conversationList:E,setConversationCreated:S,setPageState:g}):s.jsx(n.ConversationCreatGroupDetail,{pageState:d,setPageState:g,profileList:y.map((function(e){return e.profile})),createConversation:I,setConversationCreated:S})]})}),[x,y,d])};

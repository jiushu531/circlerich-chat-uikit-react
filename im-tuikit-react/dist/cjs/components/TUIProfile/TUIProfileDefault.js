"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),a=require("react/jsx-runtime"),t=require("react"),i=require("../../node_modules/react-date-picker/dist/entry.js"),n=require("tim-js-sdk/tim-js-friendship"),l=require("../../context/TUIKitContext.js"),r=require("../Avatar/Avatar.js"),s=require("../DivWithEdit/DivWithEdit.js"),u=require("../Icon/Icon.js"),c=require("../Icon/type.js"),o=require("../untils.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v,m=d(t),f=d(n),h=((v={})[f.default.TYPES.GENDER_UNKNOWN]="unknow",v[f.default.TYPES.GENDER_MALE]="male",v[f.default.TYPES.GENDER_FEMALE]="female",v),p=["https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_1.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_2.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_3.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_4.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_5.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_6.png"],g=[{label:"unknow",value:f.default.TYPES.GENDER_UNKNOWN},{label:"male",value:f.default.TYPES.GENDER_MALE},{label:"female",value:f.default.TYPES.GENDER_FEMALE}];function _(n){var d=n.userInfo,v=n.className,m=n.update,f=l.useTUIKitContext("TUIProfileDefault").setTUIProfileShow,_=t.useState(""),j=_[0],E=_[1],N=[{name:"Signature",value:null==d?void 0:d.selfSignature,type:"text",children:null},{name:"Gender",value:h[null==d?void 0:d.gender],type:"select",children:a.jsx("ul",e.__assign({className:"select-list"},{children:null==g?void 0:g.map((function(t,i){var n="".concat(t.value).concat(i);return a.jsx("li",e.__assign({className:"select-list-item",role:"menuitem",tabIndex:i,onClick:function(){y(t)}},{children:t.label}),n)}))}))},{name:"Birthday",value:null==d?void 0:d.birthday,type:"select",children:a.jsx(i,{className:"tui-profile-birthday",calendarClassName:"tui-profile-birthday-calendar",isOpen:!0,format:"y-MM-dd",onChange:function(e){b(e)},value:function(e){if(8===(null==e?void 0:e.length)){var a=Number(e.slice(0,4)),t=Number(e.slice(4,6)),i=Number(e.slice(-2));return new Date(a,t-1,i)}return new Date}("".concat(null==d?void 0:d.birthday))})}],x=function(e){E(e)},k=function(e){m(e),E("")},D=function(e){var a,t="";switch(null==e?void 0:e.name){case"nick":t="nick";break;case"Signature":t="selfSignature";break;default:return void E("")}var i=((a={})[t]=e.value,a);k(i)},y=function(e){k({gender:e.value})},b=function(e){var a,t,i,n;k({birthday:Number((a=e,t=a.getDate()>9?a.getDate():"0".concat(a.getDate()),i=a.getMonth()>8?a.getMonth()+1:"0".concat(a.getMonth()+1),n=a.getFullYear(),"".concat(n).concat(i).concat(t)))})};return a.jsxs("div",e.__assign({className:"".concat(v," tui-profile")},{children:[a.jsxs("header",e.__assign({className:"tui-profile-header"},{children:[a.jsx(u.Icon,{width:9,height:16,type:c.IconTypes.BACK,onClick:function(){f(!1)}}),a.jsx("h1",{children:"Personal information"})]})),a.jsxs("main",e.__assign({className:"tui-profile-main"},{children:[a.jsx("div",e.__assign({className:"tui-profile-avatar"},{children:a.jsx(r.Avatar,{image:o.handleDisplayAvatar(null==d?void 0:d.avatar),size:94,update:function(e){k({avatar:e})},list:p})})),a.jsx(s.DivWithEdit,{name:"nick",className:"tui-profile-nick",value:null==d?void 0:d.nick,type:"text",toggle:x,isEdit:"nick"===j,confirm:D,close:function(){E("")}}),a.jsxs("div",e.__assign({className:"tui-profile-ID"},{children:[a.jsx("h5",{children:"ID:"}),a.jsx("span",{children:null==d?void 0:d.userID})]}))]})),a.jsx("ul",e.__assign({className:"tui-profile-list"},{children:N.map((function(t){var i="".concat(t.name);return a.jsxs("li",e.__assign({className:"tui-profile-list-item"},{children:[a.jsx("h4",{children:t.name}),a.jsx(s.DivWithEdit,e.__assign({className:"tui-profile-div-with-edit",classEditName:"tui-profile-edit",name:t.name,value:null==t?void 0:t.value,type:t.type,toggle:x,isEdit:j===t.name,confirm:D,close:function(){E("")}},{children:null==t?void 0:t.children}))]}),i)}))}))]}))}var j=m.default.memo(_);exports.TUIProfileDefault=function(t){var i=e.__assign({},t);return a.jsx(j,e.__assign({},i))};

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("react/jsx-runtime"),i=require("react"),s=require("../../context/TUIKitContext.js"),a=require("./ConversationPreviewContent.js"),n=require("./utils.js");exports.ConversationPreview=function(r){var o=r.activeConversation,u=r.conversation,l=r.Preview,v=void 0===l?a.ConversationPreviewContent:l,c=r.searchValue,p=r.conversationUpdateCount,g=s.useTUIKitContext("ConversationPreview"),y=g.setActiveConversation,C=g.myProfile,d=i.useState(n.getDisplayImage(u)),D=d[0],m=d[1],T=i.useState(n.getDisplayTitle(u,c)),x=T[0],I=T[1],P=i.useState(n.getDisplayMessage(u,C)),f=P[0],j=P[1],q=i.useState(n.getDisplayTime(u)),w=q[0],S=q[1],M=i.useState(u.unreadCount),_=M[0],U=M[1],b=(null==o?void 0:o.conversationID)===(null==u?void 0:u.conversationID);return v?(i.useEffect((function(){I(n.getDisplayTitle(u,c)),j(n.getDisplayMessage(u,C)),m(n.getDisplayImage(u)),S(n.getDisplayTime(u)),U(u.unreadCount)}),[u,c,p]),t.jsx(v,e.__assign({},r,{active:b,displayImage:D,displayTitle:x,displayMessage:f,displayTime:w,unread:_,setActiveConversation:y}))):null};

import{__assign as e}from"tslib";import{jsx as t,jsxs as a}from"react/jsx-runtime";import i,{useState as n}from"react";import r from"../../node_modules/react-date-picker/dist/entry.js";import l from"tim-js-sdk/tim-js-friendship";import{useTUIKitContext as o}from"../../context/TUIKitContext.js";import{Avatar as c}from"../Avatar/Avatar.js";import{DivWithEdit as u}from"../DivWithEdit/DivWithEdit.js";import{Icon as d}from"../Icon/Icon.js";import{IconTypes as s}from"../Icon/type.js";import{handleDisplayAvatar as m}from"../untils.js";var v,f=((v={})[l.TYPES.GENDER_UNKNOWN]="unknow",v[l.TYPES.GENDER_MALE]="male",v[l.TYPES.GENDER_FEMALE]="female",v),p=["https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_1.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_2.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_3.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_4.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_5.png","https://im.sdk.qcloud.com/download/tuikit-resource/avatar/avatar_6.png"],h=[{label:"unknow",value:l.TYPES.GENDER_UNKNOWN},{label:"male",value:l.TYPES.GENDER_MALE},{label:"female",value:l.TYPES.GENDER_FEMALE}];function N(i){var l=i.userInfo,v=i.className,N=i.update,E=o("TUIProfileDefault").setTUIProfileShow,g=n(""),k=g[0],b=g[1],D=[{name:"Signature",value:null==l?void 0:l.selfSignature,type:"text",children:null},{name:"Gender",value:f[null==l?void 0:l.gender],type:"select",children:t("ul",e({className:"select-list"},{children:null==h?void 0:h.map((function(a,i){var n="".concat(a.value).concat(i);return t("li",e({className:"select-list-item",role:"menuitem",tabIndex:i,onClick:function(){I(a)}},{children:a.label}),n)}))}))},{name:"Birthday",value:null==l?void 0:l.birthday,type:"select",children:t(r,{className:"tui-profile-birthday",calendarClassName:"tui-profile-birthday-calendar",isOpen:!0,format:"y-MM-dd",onChange:function(e){S(e)},value:function(e){if(8===(null==e?void 0:e.length)){var t=Number(e.slice(0,4)),a=Number(e.slice(4,6)),i=Number(e.slice(-2));return new Date(t,a-1,i)}return new Date}("".concat(null==l?void 0:l.birthday))})}],y=function(e){b(e)},w=function(e){N(e),b("")},_=function(e){var t,a="";switch(null==e?void 0:e.name){case"nick":a="nick";break;case"Signature":a="selfSignature";break;default:return void b("")}var i=((t={})[a]=e.value,t);w(i)},I=function(e){w({gender:e.value})},S=function(e){var t,a,i,n;w({birthday:Number((t=e,a=t.getDate()>9?t.getDate():"0".concat(t.getDate()),i=t.getMonth()>8?t.getMonth()+1:"0".concat(t.getMonth()+1),n=t.getFullYear(),"".concat(n).concat(i).concat(a)))})};return a("div",e({className:"".concat(v," tui-profile")},{children:[a("header",e({className:"tui-profile-header"},{children:[t(d,{width:9,height:16,type:s.BACK,onClick:function(){E(!1)}}),t("h1",{children:"Personal information"})]})),a("main",e({className:"tui-profile-main"},{children:[t("div",e({className:"tui-profile-avatar"},{children:t(c,{image:m(null==l?void 0:l.avatar),size:94,update:function(e){w({avatar:e})},list:p})})),t(u,{name:"nick",className:"tui-profile-nick",value:null==l?void 0:l.nick,type:"text",toggle:y,isEdit:"nick"===k,confirm:_,close:function(){b("")}}),a("div",e({className:"tui-profile-ID"},{children:[t("h5",{children:"ID:"}),t("span",{children:null==l?void 0:l.userID})]}))]})),t("ul",e({className:"tui-profile-list"},{children:D.map((function(i){var n="".concat(i.name);return a("li",e({className:"tui-profile-list-item"},{children:[t("h4",{children:i.name}),t(u,e({className:"tui-profile-div-with-edit",classEditName:"tui-profile-edit",name:i.name,value:null==i?void 0:i.value,type:i.type,toggle:y,isEdit:k===i.name,confirm:_,close:function(){b("")}},{children:null==i?void 0:i.children}))]}),n)}))}))]}))}var E=i.memo(N);function g(a){var i=e({},a);return t(E,e({},i))}export{g as TUIProfileDefault};

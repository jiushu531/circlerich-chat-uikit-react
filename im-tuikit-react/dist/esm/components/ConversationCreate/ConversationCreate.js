import{__assign as e}from"tslib";import{jsxs as t,Fragment as r,jsx as o}from"react/jsx-runtime";import{useState as i,useMemo as s}from"react";import{Icon as a}from"../Icon/Icon.js";import{IconTypes as n}from"../Icon/type.js";import{ConversationCreateUserSelectList as c}from"./ConversationCreateUserSelectList.js";import{ConversationCreatGroupDetail as C}from"./ConversationCreatGroupDetail.js";import{useTUIKitContext as E}from"../../context/TUIKitContext.js";import{useConversation as m}from"../../hooks/useConversation.js";var p;function f(f){var l=f.className,v=void 0===l?"":l,u=f.setConversationCreated,S=f.conversationList,T=void 0===S?[]:S,d=i(!1),L=d[0],h=d[1],R=i(p.USER_SELECT),_=R[0],U=R[1],A=i([]),I=A[0],j=A[1],P=E().tim,G=m(P).createConversation,N=function(){if(L)switch(_){case p.USER_SELECT:h(!1);break;case p.CREATE_DETAIL:U(p.USER_SELECT),j([]);break;case p.GROUP_TYPE:U(p.CREATE_DETAIL)}else u(!1)};return s((function(){return t(r,{children:[t("div",e({className:"tui-conversation-create-header"},{children:[o(a,{onClick:N,type:n.BACK,width:9,height:16}),o("div",e({className:"title"},{children:L?"Add Participants":"New Chat"}))]})),_===p.USER_SELECT?o(c,{isCreateGroup:L,setIsCreateGroup:h,className:v,selectList:I,setSelectList:j,conversationList:T,setConversationCreated:u,setPageState:U}):o(C,{pageState:_,setPageState:U,profileList:I.map((function(e){return e.profile})),createConversation:G,setConversationCreated:u})]})}),[L,I,_])}!function(e){e.USER_SELECT="Next",e.CREATE_DETAIL="Create",e.GROUP_TYPE="GroupType"}(p||(p={}));export{f as ConversationCreate,p as PageStateTypes};

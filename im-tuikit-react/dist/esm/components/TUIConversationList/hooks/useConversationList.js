import{__awaiter as t,__generator as r,__spreadArray as i}from"tslib";import{useState as o,useEffect as n}from"react";import e from"tim-js-sdk/tim-js-friendship";function s(s,a){var l=this,d=o([]),u=d[0],c=d[1];return n((function(){var o;o="reload",t(l,void 0,void 0,(function(){var t,n,l,d;return r(this,(function(r){switch(r.label){case 0:return"reload"===o&&c([]),t="reload"===o?0:u.length,[4,null==s?void 0:s.getConversationList()];case 1:return 0===(null==(n=r.sent())?void 0:n.code)&&(l=n.data.conversationList.filter((function(t){return t.type!==e.TYPES.CONV_SYSTEM})),d="reload"===o?l:i(i([],u,!0),[l],!1),c(d),!t&&a&&a(d,c)),[2]}}))}))}),[s]),{conversationList:u,setConversationList:c}}export{s as default};

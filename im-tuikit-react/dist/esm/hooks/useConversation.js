import{__awaiter as t,__generator as o}from"tslib";import e from"tim-js-sdk/tim-js-friendship";var n=function(n){return{createConversation:function(r){return t(void 0,void 0,void 0,(function(){var t,i,a,s,u,p,c,m,v,d,f,l,C,g,b;return o(this,(function(o){switch(o.label){case 0:return"string"!=typeof r?[3,2]:[4,n.getConversationProfile(r)];case 1:return[2,o.sent().data.conversation];case 2:return t=r.name,i=r.type,a=r.groupID,s=r.introduction,u=r.notification,p=r.avatar,c=r.maxMemberNum,m=r.joinOption,v=r.memberList,d=void 0===v?[]:v,f=r.groupCustomField,l=void 0===f?[]:f,C=r.isSupportTopic,[4,n.createGroup({name:t,type:i,groupID:a,introduction:s,notification:u,avatar:p,maxMemberNum:c,joinOption:m,memberList:d,groupCustomField:l,isSupportTopic:C})];case 3:return g=o.sent(),b=g.data.group.groupID,i!==e.TYPES.GRP_AVCHATROOM?[3,5]:[4,n.joinGroup({groupID:b,type:e.TYPES.GRP_AVCHATROOM})];case 4:o.sent(),o.label=5;case 5:return[4,n.getConversationProfile("GROUP".concat(b))];case 6:return[2,o.sent().data.conversation]}}))}))},pinConversation:function(t){return n.pinConversation(t)},deleteConversation:function(t){return n.deleteConversation(t)}}};export{n as useConversation};
